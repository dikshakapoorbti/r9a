var D=Object.defineProperty,R=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var k=(a,o,i)=>o in a?D(a,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[o]=i,h=(a,o)=>{for(var i in o||(o={}))q.call(o,i)&&k(a,i,o[i]);if(N)for(var i of N(o))z.call(o,i)&&k(a,i,o[i]);return a},x=(a,o)=>R(a,T(o));var I=(a,o,i)=>new Promise((v,u)=>{var j=l=>{try{c(i.next(l))}catch(r){u(r)}},t=l=>{try{c(i.throw(l))}catch(r){u(r)}},c=l=>l.done?v(l.value):Promise.resolve(l.value).then(j,t);c((i=i.apply(a,o)).next())});import{r as s,j as e}from"./react-vendor-BXwyOXP-.js";import{g as L,i as _,a as K,c as U,s as F}from"./firebase-vendor-e8d3nifc.js";import"./emailjs-vendor-CpgQHUqy.js";import"./vendor-DdoYgruZ.js";const H={apiKey:"AIzaSyC30KLJxmRUz086twIS0SPBsHX2sjdRy8k",authDomain:"retrospecta-web.firebaseapp.com",projectId:"retrospecta-web",storageBucket:"retrospecta-web.firebasestorage.app",messagingSenderId:"412926445598",appId:"1:412926445598:web:19e364c18bf8b7cc3c460f"},G=_(H),J=L(G),ae=()=>{const[a,o]=s.useState({email:"",phone:"",company:"",message:""}),[i,v]=s.useState("+91"),[u,j]=s.useState(""),[t,c]=s.useState({}),[l,r]=s.useState(!1),[g,m]=s.useState(""),y=s.useRef(null),E=n=>n.trim().split(/\s+/).filter(Boolean).length,P=n=>/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(n.trim()),M=n=>n.replace(/\D/g,"").length>=7,b=n=>[/<script/i,/javascript:/i,/on\w+\s*=/i,/<iframe/i,/eval\(/i,/document\./i,/window\./i].some(w=>w.test(n)),A=n=>I(null,null,function*(){if(n.preventDefault(),m(""),c({}),u)return;const d=Number(localStorage.getItem("contact_last_submit_ts")||0);if(Date.now()-d<6e4){m("Please wait a minute before submitting again.");return}const p={};P(a.email)||(p.email="Enter a valid email");const S=a.phone.replace(/\D/g,"");if(M(S)||(p.phone="Enter a valid phone"),E(a.message)<2&&(p.message="Describe your project in at least 20 words"),b(a.email)||b(a.company)||b(a.message)){m("Invalid input detected. Please remove any HTML or script content.");return}if(Object.keys(p).length){c(p);return}r(!0);const C=`${i}${S}`,B={email:a.email.trim(),phone:C,company:a.company.trim(),message:a.message.trim(),createdAt:F()};try{yield K(U(J,"contactRequests"),B);try{const f={to_email:"dikshakapoorbti@gmail.com",from_name:a.email.trim(),from_email:a.email.trim(),phone:C,company:a.company.trim()||"N/A",message:a.message.trim(),submission_time:new Date().toLocaleString()};void 0&&void 0&&void 0||console.warn("EmailJS not configured. Please set up .env file with EmailJS credentials.")}catch(f){console.error("Email notification failed:",f)}o({email:"",phone:"",company:"",message:""}),localStorage.setItem("contact_last_submit_ts",String(Date.now())),setTimeout(()=>r(!1),3e3)}catch(f){m("Could not save your request. Please try again later."),r(!1)}});return e.jsxs("form",{className:"space-y-4",onSubmit:A,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",required:!0,value:a.email,onChange:n=>o(x(h({},a),{email:n.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"your@email.com"}),t.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("select",{value:i,onChange:n=>{v(n.target.value),setTimeout(()=>{var d;return(d=y.current)==null?void 0:d.focus()},0)},className:"min-w-[140px] px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white cursor-pointer hover:border-blue-400 transition-colors",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E")`,backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem",appearance:"none"},children:[e.jsx("option",{value:"+91",children:"India +91"}),e.jsx("option",{value:"+1",children:"USA/Canada +1"}),e.jsx("option",{value:"+44",children:"United Kingdom +44"}),e.jsx("option",{value:"+971",children:"UAE +971"}),e.jsx("option",{value:"+61",children:"Australia +61"}),e.jsx("option",{value:"+65",children:"Singapore +65"}),e.jsx("option",{value:"+93",children:"Afghanistan +93"}),e.jsx("option",{value:"+880",children:"Bangladesh +880"}),e.jsx("option",{value:"+975",children:"Bhutan +975"}),e.jsx("option",{value:"+673",children:"Brunei +673"}),e.jsx("option",{value:"+855",children:"Cambodia +855"}),e.jsx("option",{value:"+86",children:"China +86"}),e.jsx("option",{value:"+852",children:"Hong Kong +852"}),e.jsx("option",{value:"+62",children:"Indonesia +62"}),e.jsx("option",{value:"+81",children:"Japan +81"}),e.jsx("option",{value:"+82",children:"South Korea +82"}),e.jsx("option",{value:"+853",children:"Macau +853"}),e.jsx("option",{value:"+60",children:"Malaysia +60"}),e.jsx("option",{value:"+960",children:"Maldives +960"}),e.jsx("option",{value:"+95",children:"Myanmar +95"}),e.jsx("option",{value:"+977",children:"Nepal +977"}),e.jsx("option",{value:"+92",children:"Pakistan +92"}),e.jsx("option",{value:"+63",children:"Philippines +63"}),e.jsx("option",{value:"+94",children:"Sri Lanka +94"}),e.jsx("option",{value:"+886",children:"Taiwan +886"}),e.jsx("option",{value:"+66",children:"Thailand +66"}),e.jsx("option",{value:"+84",children:"Vietnam +84"}),e.jsx("option",{value:"+973",children:"Bahrain +973"}),e.jsx("option",{value:"+20",children:"Egypt +20"}),e.jsx("option",{value:"+98",children:"Iran +98"}),e.jsx("option",{value:"+964",children:"Iraq +964"}),e.jsx("option",{value:"+972",children:"Israel +972"}),e.jsx("option",{value:"+962",children:"Jordan +962"}),e.jsx("option",{value:"+965",children:"Kuwait +965"}),e.jsx("option",{value:"+961",children:"Lebanon +961"}),e.jsx("option",{value:"+968",children:"Oman +968"}),e.jsx("option",{value:"+974",children:"Qatar +974"}),e.jsx("option",{value:"+966",children:"Saudi Arabia +966"}),e.jsx("option",{value:"+963",children:"Syria +963"}),e.jsx("option",{value:"+90",children:"Turkey +90"}),e.jsx("option",{value:"+967",children:"Yemen +967"}),e.jsx("option",{value:"+355",children:"Albania +355"}),e.jsx("option",{value:"+43",children:"Austria +43"}),e.jsx("option",{value:"+375",children:"Belarus +375"}),e.jsx("option",{value:"+32",children:"Belgium +32"}),e.jsx("option",{value:"+387",children:"Bosnia +387"}),e.jsx("option",{value:"+359",children:"Bulgaria +359"}),e.jsx("option",{value:"+385",children:"Croatia +385"}),e.jsx("option",{value:"+357",children:"Cyprus +357"}),e.jsx("option",{value:"+420",children:"Czech Republic +420"}),e.jsx("option",{value:"+45",children:"Denmark +45"}),e.jsx("option",{value:"+372",children:"Estonia +372"}),e.jsx("option",{value:"+358",children:"Finland +358"}),e.jsx("option",{value:"+33",children:"France +33"}),e.jsx("option",{value:"+49",children:"Germany +49"}),e.jsx("option",{value:"+30",children:"Greece +30"}),e.jsx("option",{value:"+36",children:"Hungary +36"}),e.jsx("option",{value:"+354",children:"Iceland +354"}),e.jsx("option",{value:"+353",children:"Ireland +353"}),e.jsx("option",{value:"+39",children:"Italy +39"}),e.jsx("option",{value:"+371",children:"Latvia +371"}),e.jsx("option",{value:"+370",children:"Lithuania +370"}),e.jsx("option",{value:"+352",children:"Luxembourg +352"}),e.jsx("option",{value:"+389",children:"North Macedonia +389"}),e.jsx("option",{value:"+356",children:"Malta +356"}),e.jsx("option",{value:"+373",children:"Moldova +373"}),e.jsx("option",{value:"+382",children:"Montenegro +382"}),e.jsx("option",{value:"+31",children:"Netherlands +31"}),e.jsx("option",{value:"+47",children:"Norway +47"}),e.jsx("option",{value:"+48",children:"Poland +48"}),e.jsx("option",{value:"+351",children:"Portugal +351"}),e.jsx("option",{value:"+40",children:"Romania +40"}),e.jsx("option",{value:"+7",children:"Russia +7"}),e.jsx("option",{value:"+381",children:"Serbia +381"}),e.jsx("option",{value:"+421",children:"Slovakia +421"}),e.jsx("option",{value:"+386",children:"Slovenia +386"}),e.jsx("option",{value:"+34",children:"Spain +34"}),e.jsx("option",{value:"+46",children:"Sweden +46"}),e.jsx("option",{value:"+41",children:"Switzerland +41"}),e.jsx("option",{value:"+380",children:"Ukraine +380"}),e.jsx("option",{value:"+213",children:"Algeria +213"}),e.jsx("option",{value:"+244",children:"Angola +244"}),e.jsx("option",{value:"+267",children:"Botswana +267"}),e.jsx("option",{value:"+257",children:"Burundi +257"}),e.jsx("option",{value:"+237",children:"Cameroon +237"}),e.jsx("option",{value:"+251",children:"Ethiopia +251"}),e.jsx("option",{value:"+233",children:"Ghana +233"}),e.jsx("option",{value:"+254",children:"Kenya +254"}),e.jsx("option",{value:"+266",children:"Lesotho +266"}),e.jsx("option",{value:"+218",children:"Libya +218"}),e.jsx("option",{value:"+261",children:"Madagascar +261"}),e.jsx("option",{value:"+265",children:"Malawi +265"}),e.jsx("option",{value:"+223",children:"Mali +223"}),e.jsx("option",{value:"+230",children:"Mauritius +230"}),e.jsx("option",{value:"+212",children:"Morocco +212"}),e.jsx("option",{value:"+258",children:"Mozambique +258"}),e.jsx("option",{value:"+264",children:"Namibia +264"}),e.jsx("option",{value:"+234",children:"Nigeria +234"}),e.jsx("option",{value:"+250",children:"Rwanda +250"}),e.jsx("option",{value:"+221",children:"Senegal +221"}),e.jsx("option",{value:"+248",children:"Seychelles +248"}),e.jsx("option",{value:"+27",children:"South Africa +27"}),e.jsx("option",{value:"+211",children:"South Sudan +211"}),e.jsx("option",{value:"+249",children:"Sudan +249"}),e.jsx("option",{value:"+255",children:"Tanzania +255"}),e.jsx("option",{value:"+228",children:"Togo +228"}),e.jsx("option",{value:"+216",children:"Tunisia +216"}),e.jsx("option",{value:"+256",children:"Uganda +256"}),e.jsx("option",{value:"+260",children:"Zambia +260"}),e.jsx("option",{value:"+263",children:"Zimbabwe +263"}),e.jsx("option",{value:"+54",children:"Argentina +54"}),e.jsx("option",{value:"+591",children:"Bolivia +591"}),e.jsx("option",{value:"+55",children:"Brazil +55"}),e.jsx("option",{value:"+56",children:"Chile +56"}),e.jsx("option",{value:"+57",children:"Colombia +57"}),e.jsx("option",{value:"+506",children:"Costa Rica +506"}),e.jsx("option",{value:"+53",children:"Cuba +53"}),e.jsx("option",{value:"+593",children:"Ecuador +593"}),e.jsx("option",{value:"+503",children:"El Salvador +503"}),e.jsx("option",{value:"+502",children:"Guatemala +502"}),e.jsx("option",{value:"+504",children:"Honduras +504"}),e.jsx("option",{value:"+52",children:"Mexico +52"}),e.jsx("option",{value:"+505",children:"Nicaragua +505"}),e.jsx("option",{value:"+507",children:"Panama +507"}),e.jsx("option",{value:"+595",children:"Paraguay +595"}),e.jsx("option",{value:"+51",children:"Peru +51"}),e.jsx("option",{value:"+598",children:"Uruguay +598"}),e.jsx("option",{value:"+58",children:"Venezuela +58"}),e.jsx("option",{value:"+679",children:"Fiji +679"}),e.jsx("option",{value:"+64",children:"New Zealand +64"}),e.jsx("option",{value:"+675",children:"Papua New Guinea +675"}),e.jsx("option",{value:"+685",children:"Samoa +685"}),e.jsx("option",{value:"+676",children:"Tonga +676"})]}),e.jsx("input",{type:"tel",required:!0,value:a.phone,onChange:n=>o(x(h({},a),{phone:n.target.value.replace(/[^0-9\s-]/g,"")})),ref:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Phone number"})]}),t.phone&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),e.jsx("input",{type:"text",value:a.company,onChange:n=>o(x(h({},a),{company:n.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Your Company Name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Details"}),e.jsx("textarea",{rows:4,required:!0,value:a.message,onChange:n=>o(x(h({},a),{message:n.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Tell us about your project requirements..."}),t.message&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.message})]}),e.jsx("input",{type:"text",value:u,onChange:n=>j(n.target.value),className:"hidden","aria-hidden":"true",tabIndex:-1,autoComplete:"off"}),e.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition-all duration-300 transform hover:scale-105 disabled:opacity-70 disabled:cursor-not-allowed",children:l?"Request Sent! We'll call you soon.":"Request Callback"}),g&&e.jsx("div",{className:"text-center text-red-600 text-sm font-medium",children:g}),l&&!g&&e.jsx("div",{className:"text-center text-green-600 font-medium",children:"Thank you! We'll contact you within 24â€“48 hours."})]})};export{ae as default};
