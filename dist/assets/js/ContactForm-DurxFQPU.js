const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/firebase-vendor-BOM7Zvwy.js","assets/js/vendor-DdoYgruZ.js","assets/js/firebase-CuclZ9K3.js"])))=>i.map(i=>d[i]);
var V=Object.defineProperty,K=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var C=(e,s,r)=>s in e?V(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,p=(e,s)=>{for(var r in s||(s={}))U.call(s,r)&&C(e,r,s[r]);if(S)for(var r of S(s))W.call(s,r)&&C(e,r,s[r]);return e},g=(e,s)=>K(e,O(s));var k=(e,s,r)=>new Promise((f,m)=>{var x=o=>{try{c(r.next(o))}catch(i){m(i)}},n=o=>{try{c(r.throw(o))}catch(i){m(i)}},c=o=>o.done?f(o.value):Promise.resolve(o.value).then(x,n);c((r=r.apply(e,s)).next())});import{_ as P}from"./index-D94sLZTr.js";import{r as l,j as t}from"./react-vendor-BXwyOXP-.js";import"./emailjs-vendor-CpgQHUqy.js";import"./vendor-DdoYgruZ.js";const X=()=>{const[e,s]=l.useState({email:"",phone:"",company:"",message:""}),[r,f]=l.useState("+91"),[m,x]=l.useState(""),[n,c]=l.useState({}),[o,i]=l.useState(!1),[y,h]=l.useState(""),j=l.useRef(null),D=a=>a.trim().split(/\s+/).filter(Boolean).length,I=a=>/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(a.trim()),R=a=>a.replace(/\D/g,"").length>=7,v=a=>[/<script/i,/javascript:/i,/on\w+\s*=/i,/<iframe/i,/eval\(/i,/document\./i,/window\./i].some(w=>w.test(a)),q=a=>k(null,null,function*(){if(a.preventDefault(),h(""),c({}),m)return;const u=Number(localStorage.getItem("contact_last_submit_ts")||0);if(Date.now()-u<6e4){h("Please wait a minute before submitting again.");return}const d={};I(e.email)||(d.email="Enter a valid email");const _=e.phone.replace(/\D/g,"");if(R(_)||(d.phone="Enter a valid phone"),D(e.message)<2&&(d.message="Describe your project in at least 20 words"),v(e.email)||v(e.company)||v(e.message)){h("Invalid input detected. Please remove any HTML or script content.");return}if(Object.keys(d).length){c(d);return}i(!0);const E=`${r}${_}`;try{const[{collection:N,addDoc:T},{db:A,serverTimestamp:L}]=yield Promise.all([P(()=>import("./firebase-vendor-BOM7Zvwy.js").then(b=>b.a),__vite__mapDeps([0,1])),P(()=>import("./firebase-CuclZ9K3.js"),__vite__mapDeps([2,0,1]))]),M={email:e.email.trim(),phone:E,company:e.company.trim(),message:e.message.trim(),createdAt:L()};yield T(N(A,"contactRequests"),M);try{const b={to_email:"dikshakapoorbti@gmail.com",from_name:e.email.trim(),from_email:e.email.trim(),phone:E,company:e.company.trim()||"N/A",message:e.message.trim(),submission_time:new Date().toLocaleString()};void 0&&void 0&&void 0||console.warn("EmailJS not configured. Please set up .env file with EmailJS credentials.")}catch(b){console.error("Email notification failed:",b)}s({email:"",phone:"",company:"",message:""}),localStorage.setItem("contact_last_submit_ts",String(Date.now())),setTimeout(()=>i(!1),3e3)}catch(N){h("Could not save your request. Please try again later."),i(!1)}});return t.jsxs("form",{className:"space-y-4",onSubmit:q,children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),t.jsx("input",{type:"email",required:!0,value:e.email,onChange:a=>s(g(p({},e),{email:a.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"your@email.com"}),n.email&&t.jsx("p",{className:"mt-2 text-sm text-red-600",children:n.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("select",{value:r,onChange:a=>{f(a.target.value),setTimeout(()=>{var u;return(u=j.current)==null?void 0:u.focus()},0)},className:"px-4 py-3 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E")`,backgroundPosition:"right 0.75rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.25em 1.25em"},children:[t.jsx("option",{value:"+91",children:"India (+91)"}),t.jsx("option",{value:"+1",children:"United States (+1)"}),t.jsx("option",{value:"+44",children:"United Kingdom (+44)"}),t.jsx("option",{value:"+61",children:"Australia (+61)"}),t.jsx("option",{value:"+971",children:"UAE (+971)"})]}),t.jsx("input",{type:"tel",required:!0,value:e.phone,onChange:a=>s(g(p({},e),{phone:a.target.value.replace(/[^0-9\s-]/g,"")})),ref:j,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Phone number"})]}),n.phone&&t.jsx("p",{className:"mt-2 text-sm text-red-600",children:n.phone})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),t.jsx("input",{type:"text",value:e.company,onChange:a=>s(g(p({},e),{company:a.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Your Company Name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Details"}),t.jsx("textarea",{rows:4,required:!0,value:e.message,onChange:a=>s(g(p({},e),{message:a.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Tell us about your project requirements..."}),n.message&&t.jsx("p",{className:"mt-2 text-sm text-red-600",children:n.message})]}),t.jsx("input",{type:"text",value:m,onChange:a=>x(a.target.value),className:"hidden","aria-hidden":"true",tabIndex:-1,autoComplete:"off"}),t.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition-all duration-300 transform hover:scale-105 disabled:opacity-70 disabled:cursor-not-allowed",children:o?"Request Sent! We'll call you soon.":"Request Callback"}),y&&t.jsx("div",{className:"text-center text-red-600 text-sm font-medium",children:y}),o&&!y&&t.jsx("div",{className:"text-center text-green-600 font-medium",children:"Thank you! We'll contact you within 24â€“48 hours."})]})};export{X as default};
